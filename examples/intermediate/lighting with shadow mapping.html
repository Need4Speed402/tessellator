<html>
    <script src="../../build/Tessellator.js" type="text/javascript"></script>
    
    <body style="margin:0px;background:black;">
        <canvas style="width:100%;height:100%;" id="maincanvas"></canvas>
    </body>
    
    <script type="text/javascript">
        var tessellator = new Tessellator("maincanvas");
        
        var scene = tessellator.createModel();
        scene.clear();
        scene.rotate(Tessellator.float().createTween().dir(0.001).getVec(), Tessellator.vec3(0, 1, 0));
        scene.fillCube(0, 0, 0, 1);
        
        scene.translate(0, -1, 0);
        scene.fillRect(-10, -10, 20, 20, Tessellator.vec3(0, 1, 0));
        scene.finish();
        
        var model = tessellator.createModel();
        model.setView(new Tessellator.PerspectiveView());
        model.translate(0, 0, -6);
        model.enable(Tessellator.LIGHTING);
        
        var light = model.setDirectionalLight(1, 1, 1);
        light.createShadow(scene, 2, 2, 5, 1024);
        
        model.add(scene);
        model.finish();
        
        //new Tessellator.RenderLoop(new Tessellator.FullScreenTextureRenderer(tessellator.createPixelShader(Tessellator.PIXEL_SHADER_PASS), light.shadowMap));
        new Tessellator.RenderLoop(new Tessellator.ModelRenderer(model));
    </script>
</html>